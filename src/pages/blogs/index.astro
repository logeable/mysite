---
import { getCollection } from "astro:content";
import Layout from "../../layouts/Layout.astro";

const blogs = await getCollection("blog");
---

<Layout title="Blog">
  <div class="container">
    <ul>
      {
        blogs.map((blog: any) => (
          <li>
            <h2>
              <a href={`/blogs/${blog.id}`}>{blog.data.title}</a>
            </h2>
            <p class="date">{blog.data.publishDate.toLocaleDateString()}</p>
            <p class="description">{blog.data.description}</p>
          </li>
        ))
      }
    </ul>
  </div>
</Layout>

<style lang="scss">
  .container {
    ul {
      list-style: none;
      padding: 0;
      margin: 0;
      li {
        margin-bottom: 20px;
        .date {
          font-size: 12px;
          color: #666;
        }
        .description {
          font-size: 14px;
        }
      }
    }
  }
</style>
